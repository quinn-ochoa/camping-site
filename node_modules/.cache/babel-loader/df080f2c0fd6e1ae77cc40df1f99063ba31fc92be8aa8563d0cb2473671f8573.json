{"ast":null,"code":"import _slicedToArray from\"/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from'react-redux';import{Button,Modal,ModalHeader,ModalBody,FormGroup,Label}from\"reactstrap\";import{Formik,Field,Form,ErrorMessage}from'formik';import{validateCommentForm}from\"../../utils/validateCommentForm\";import{addComment}from\"./commentsSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CommentForm=function CommentForm(_ref){var campsiteId=_ref.campsiteId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var dispatch=useDispatch();var handleSubmit=function handleSubmit(values){var comment={campsiteId:parseInt(campsiteId),rating:values.rating,author:values.author,text:values.commentText,date:new Date(Date.now()).toISOString()};console.log(comment);dispatch(addComment(comment));setModalOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{outline:true,onClick:function onClick(){return setModalOpen(true);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil fa-lg\"}),\" Add Comment\"]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalOpen,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return setModalOpen(false);},children:\"Add Comment\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{rating:undefined,author:'',commentText:''},onSubmit:handleSubmit,validate:validateCommentForm,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"rating\",children:\"Rating\"}),/*#__PURE__*/_jsxs(Field,{name:\"rating\",as:\"select\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{children:\"5\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"rating\",children:function children(msg){return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg});}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",children:\"Your Name\"}),/*#__PURE__*/_jsx(Field,{name:\"author\",placeholder:\"Your Name\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"author\",children:function children(msg){return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg});}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"commentText\",children:\"Comment\"}),/*#__PURE__*/_jsx(Field,{name:\"commentText\",as:\"textarea\",rows:\"12\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Submit\"})]})})})]})]});};export default CommentForm;","map":{"version":3,"names":["useState","useDispatch","Button","Modal","ModalHeader","ModalBody","FormGroup","Label","Formik","Field","Form","ErrorMessage","validateCommentForm","addComment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentForm","_ref","campsiteId","_useState","_useState2","_slicedToArray","modalOpen","setModalOpen","dispatch","handleSubmit","values","comment","parseInt","rating","author","text","commentText","date","Date","now","toISOString","console","log","children","outline","onClick","className","isOpen","toggle","initialValues","undefined","onSubmit","validate","htmlFor","name","as","msg","placeholder","rows","type","color"],"sources":["/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/src/features/comments/CommentForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { Button, Modal, ModalHeader, ModalBody, FormGroup, Label } from \"reactstrap\";\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { validateCommentForm } from \"../../utils/validateCommentForm\";\nimport { addComment } from \"./commentsSlice\";\n\nconst CommentForm = ({ campsiteId }) => {\n    const [modalOpen, setModalOpen] = useState(false);\n\n    const dispatch = useDispatch();\n\n    const handleSubmit = (values) => {\n        const comment = {\n            campsiteId: parseInt(campsiteId),\n            rating: values.rating,\n            author: values.author,\n            text: values.commentText,\n            date: new Date(Date.now()).toISOString()\n        }\n        console.log(comment);\n        dispatch(addComment(comment));\n        setModalOpen(false);\n    };\n    return (\n        <>\n            <Button outline onClick={() => setModalOpen(true)}>\n                <i className='fa fa-pencil fa-lg' /> Add Comment\n            </Button>\n            <Modal isOpen={modalOpen}>\n                <ModalHeader toggle={() => setModalOpen(false)}>\n                    Add Comment\n                </ModalHeader>\n                <ModalBody>\n                    <Formik\n                        initialValues={{\n                            rating: undefined,\n                            author: '',\n                            commentText: ''\n                        }}\n                        onSubmit={handleSubmit}\n                        validate={validateCommentForm}\n                    >\n                        <Form>\n                            <FormGroup>\n                                <Label htmlFor=\"rating\">\n                                    Rating\n                                </Label>\n                                <Field\n                                    name='rating'\n                                    as='select'\n                                    className='form-control'\n                                >\n                                    <option>Select...</option>\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                    <option>4</option>\n                                    <option>5</option>\n                                </Field>\n                                <ErrorMessage name='rating'>\n                                    {(msg) => <p className='text-danger'>{msg}</p>}\n                                </ErrorMessage>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label htmlFor=\"author\">\n                                    Your Name\n                                </Label>\n                                <Field\n                                    name='author'\n                                    placeholder='Your Name'\n                                    className='form-control'\n                                />\n                                <ErrorMessage name='author'>\n                                    {(msg) => <p className='text-danger'>{msg}</p>}\n                                </ErrorMessage>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label htmlFor=\"commentText\">\n                                    Comment\n                                </Label>\n                                <Field\n                                    name='commentText'\n                                    as='textarea'\n                                    rows='12'\n                                    className='form-control'\n                                />\n                            </FormGroup>\n                            <Button type='submit' color='primary'>\n                                Submit\n                            </Button>\n                        </Form>\n                    </Formik>\n                </ModalBody>\n            </Modal>\n        </>\n    );\n};\n\nexport default CommentForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}