{"ast":null,"code":"import _slicedToArray from\"/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{setCurrentUser,selectCurrentUser}from'./userSlice';import{Modal,ModalHeader,ModalBody,FormGroup,Label,Button}from'reactstrap';import{Formik,Field,Form,ErrorMessage}from'formik';import defaultAvatar from'../../app/assets/img/unicorn.png';import{validateUserLoginForm}from'../../utils/validateUserLoginForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserLoginForm=function UserLoginForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loginModalOpen=_useState2[0],setLoginModalOpen=_useState2[1];var currentUser=useSelector(selectCurrentUser);var dispatch=useDispatch();var handleLogin=function handleLogin(values){var currentUser={id:Date.now(),avatar:defaultAvatar,username:values.username,password:values.password};dispatch(setCurrentUser(currentUser));setLoginModalOpen(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"navbar-text ml-auto\",children:[currentUser?/*#__PURE__*/_jsx(\"div\",{style:{width:'4rem',height:'4rem'},children:/*#__PURE__*/_jsx(\"img\",{src:currentUser.avatar,alt:'user',style:{width:'100%',height:'100%'}})}):/*#__PURE__*/_jsxs(Button,{outline:true,onClick:function onClick(){return setLoginModalOpen(true);},style:{color:'white',border:'1px solid white'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sign-in fa-lg\"}),\" Login\"]}),/*#__PURE__*/_jsxs(Modal,{isOpen:loginModalOpen,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return setLoginModalOpen(false);},children:\"Login\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:''},onSubmit:handleLogin,validate:validateUserLoginForm,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Field,{id:\"username\",name:\"username\",placeholder:\"Username\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",children:function children(msg){return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg});}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{id:\"password\",name:\"password\",placeholder:\"Password\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",children:function children(msg){return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg});}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Login\"})]})})})]})]})});};export default UserLoginForm;","map":{"version":3,"names":["useState","useSelector","useDispatch","setCurrentUser","selectCurrentUser","Modal","ModalHeader","ModalBody","FormGroup","Label","Button","Formik","Field","Form","ErrorMessage","defaultAvatar","validateUserLoginForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserLoginForm","_useState","_useState2","_slicedToArray","loginModalOpen","setLoginModalOpen","currentUser","dispatch","handleLogin","values","id","Date","now","avatar","username","password","children","className","style","width","height","src","alt","outline","onClick","color","border","isOpen","toggle","initialValues","onSubmit","validate","htmlFor","name","placeholder","msg","type"],"sources":["/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/src/features/user/UserLoginForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCurrentUser, selectCurrentUser } from './userSlice';\nimport {\n    Modal,\n    ModalHeader,\n    ModalBody,\n    FormGroup,\n    Label,\n    Button\n} from 'reactstrap';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport defaultAvatar from '../../app/assets/img/unicorn.png';\nimport { validateUserLoginForm } from '../../utils/validateUserLoginForm';\n\nconst UserLoginForm = () => {\n    const [loginModalOpen, setLoginModalOpen] = useState(false);\n    const currentUser = useSelector(selectCurrentUser);\n    const dispatch = useDispatch();\n\n    const handleLogin = (values) => {\n        const currentUser = {\n            id: Date.now(),\n            avatar: defaultAvatar,\n            username: values.username,\n            password: values.password\n        }\n        dispatch(setCurrentUser(currentUser));\n        setLoginModalOpen(false);\n    };\n    return (\n        <>\n            <span className='navbar-text ml-auto'>\n                {currentUser ? (\n                    <div style={{ width: '4rem', height: '4rem' }}>\n                        <img\n                            src={currentUser.avatar}\n                            alt={'user'}\n                            style={{ width: '100%', height: '100%' }}\n                        />\n                    </div>\n                ) : (\n                    <Button\n                        outline\n                        onClick={() => setLoginModalOpen(true)}\n                        style={{ color: 'white', border: '1px solid white' }}\n                    >\n                        <i className='fa fa-sign-in fa-lg' /> Login\n                    </Button>\n                )}\n                <Modal isOpen={loginModalOpen}>\n                    <ModalHeader toggle={() => setLoginModalOpen(false)}>\n                        Login\n                    </ModalHeader>\n                    <ModalBody>\n                        <Formik\n                            initialValues={{\n                                username: '',\n                                password: '',\n                            }}\n                            onSubmit={handleLogin}\n                            validate={validateUserLoginForm}>\n                            <Form>\n                                <FormGroup>\n                                    <Label htmlFor=\"username\">Username</Label>\n                                    <Field\n                                        id='username'\n                                        name='username'\n                                        placeholder='Username'\n                                        className='form-control' />\n                                    <ErrorMessage name='username'>\n                                        {(msg) => <p className='text-danger'>{msg}</p>}\n                                    </ErrorMessage>\n                                </FormGroup>\n                                <FormGroup>\n                                    <Label htmlFor=\"password\">Password</Label>\n                                    <Field\n                                        id='password'\n                                        name='password'\n                                        placeholder='Password'\n                                        className='form-control' />\n                                    <ErrorMessage name='password'>\n                                        {(msg) => <p className='text-danger'>{msg}</p>}\n                                    </ErrorMessage>\n                                </FormGroup>\n                                <Button type='submit' color='primary'>Login</Button>\n                            </Form>\n                        </Formik>\n                    </ModalBody>\n                </Modal>\n            </span>\n        </>\n    );\n};\n\nexport default UserLoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}