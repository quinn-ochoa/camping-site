{"ast":null,"code":"import _defineProperty from\"/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// import{PARTNERS} from '../../app/shared/PARTNERS';\nimport{baseUrl}from'../../app/shared/baseUrl';import{mapImageURL}from'../../utils/mapImageURL';export var fetchPartners=createAsyncThunk('partners/fetchPartners',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(baseUrl+'partners');case 2:response=_context.sent;if(response.ok){_context.next=5;break;}return _context.abrupt(\"return\",Promise.reject('Unable to fetch, status: '+response.status));case 5:_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 9:case\"end\":return _context.stop();}},_callee);})));var initialState={partnersArray:[],isLoading:true,errMsg:''};var partnersSlice=createSlice({name:'partners',initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchPartners.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,fetchPartners.fulfilled,function(state,action){state.isLoading=false;state.errMsg='';state.partnersArray=mapImageURL(action.payload);}),_defineProperty(_extraReducers,fetchPartners.rejected,function(state,action){state.isLoading=false;state.errMsg=action.error?action.error.message:'Fetch failed';}),_extraReducers)});export var partnersReducer=partnersSlice.reducer;export var selectAllPartners=function selectAllPartners(state){return state.partners.partnersArray;};export var selectFeaturedPartner=function selectFeaturedPartner(state){return{featuredItem:state.partners.partnersArray.find(function(partner){return partner.featured;}),isLoading:state.partners.isLoading,errMsg:state.partners.errMsg};};","map":{"version":3,"names":["createSlice","createAsyncThunk","baseUrl","mapImageURL","fetchPartners","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","ok","abrupt","Promise","reject","status","json","stop","initialState","partnersArray","isLoading","errMsg","partnersSlice","name","reducers","extraReducers","_extraReducers","_defineProperty","pending","state","fulfilled","action","payload","rejected","error","message","partnersReducer","reducer","selectAllPartners","partners","selectFeaturedPartner","featuredItem","find","partner","featured"],"sources":["/Users/quynhletruc/Desktop/NucampFolder/3-React/nucampsite/src/features/partners/partnersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n// import{PARTNERS} from '../../app/shared/PARTNERS';\nimport { baseUrl } from '../../app/shared/baseUrl';\nimport { mapImageURL } from '../../utils/mapImageURL';\n\nexport const fetchPartners = createAsyncThunk(\n    'partners/fetchPartners',\n    async () => {\n        const response = await fetch(baseUrl + 'partners');\n        if (!response.ok) {\n            return Promise.reject('Unable to fetch, status: ' + response.status);\n        }\n        const data = await response.json();\n        return data;\n    }\n);\n\nconst initialState = {\n    partnersArray: [],\n    isLoading: true,\n    errMsg: ''\n};\n\nconst partnersSlice = createSlice({\n    name: 'partners',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        [fetchPartners.pending]: (state) => {\n            state.isLoading = true;\n        },\n        [fetchPartners.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.errMsg = '';\n            state.partnersArray = mapImageURL(action.payload);\n        },\n        [fetchPartners.rejected]: (state, action) => {\n            state.isLoading = false;\n            state.errMsg = action.error ? action.error.message : 'Fetch failed';\n        }\n    }\n});\n\nexport const partnersReducer = partnersSlice.reducer;\n\nexport const selectAllPartners =(state) =>{\n    return state.partners.partnersArray;\n};\n\nexport const selectFeaturedPartner = (state) => {\n    return {\n       featuredItem: state.partners.partnersArray.find(\n            (partner) => partner.featured\n        ),\n        isLoading: state.partners.isLoading,\n        errMsg: state.partners.errMsg\n    };\n};"],"mappings":"qdAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE;AACA,OAASC,OAAO,KAAQ,0BAA0B,CAClD,OAASC,WAAW,KAAQ,yBAAyB,CAErD,MAAO,IAAM,CAAAC,aAAa,CAAGH,gBAAgB,CACzC,wBAAwB,cAAAI,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACxB,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAC2B,CAAAC,KAAK,CAACd,OAAO,CAAG,UAAU,CAAC,QAA5CO,QAAQ,CAAAI,QAAA,CAAAI,IAAA,IACTR,QAAQ,CAACS,EAAE,EAAAL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAM,MAAA,UACLC,OAAO,CAACC,MAAM,CAAC,2BAA2B,CAAGZ,QAAQ,CAACa,MAAM,CAAC,SAAAT,QAAA,CAAAE,IAAA,SAErD,CAAAN,QAAQ,CAACc,IAAI,EAAE,QAA5Bb,IAAI,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAM,MAAA,UACHT,IAAI,0BAAAG,QAAA,CAAAW,IAAA,MAAAhB,OAAA,GACd,GACJ,CAED,GAAM,CAAAiB,YAAY,CAAG,CACjBC,aAAa,CAAE,EAAE,CACjBC,SAAS,CAAE,IAAI,CACfC,MAAM,CAAE,EACZ,CAAC,CAED,GAAM,CAAAC,aAAa,CAAG7B,WAAW,CAAC,CAC9B8B,IAAI,CAAE,UAAU,CAChBL,YAAY,CAAZA,YAAY,CACZM,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,EAAAC,cAAA,IAAAC,eAAA,CAAAD,cAAA,CACR7B,aAAa,CAAC+B,OAAO,CAAG,SAACC,KAAK,CAAK,CAChCA,KAAK,CAACT,SAAS,CAAG,IAAI,CAC1B,CAAC,EAAAO,eAAA,CAAAD,cAAA,CACA7B,aAAa,CAACiC,SAAS,CAAG,SAACD,KAAK,CAAEE,MAAM,CAAK,CAC1CF,KAAK,CAACT,SAAS,CAAG,KAAK,CACvBS,KAAK,CAACR,MAAM,CAAG,EAAE,CACjBQ,KAAK,CAACV,aAAa,CAAGvB,WAAW,CAACmC,MAAM,CAACC,OAAO,CAAC,CACrD,CAAC,EAAAL,eAAA,CAAAD,cAAA,CACA7B,aAAa,CAACoC,QAAQ,CAAG,SAACJ,KAAK,CAAEE,MAAM,CAAK,CACzCF,KAAK,CAACT,SAAS,CAAG,KAAK,CACvBS,KAAK,CAACR,MAAM,CAAGU,MAAM,CAACG,KAAK,CAAGH,MAAM,CAACG,KAAK,CAACC,OAAO,CAAG,cAAc,CACvE,CAAC,EAAAT,cAAA,CAET,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAU,eAAe,CAAGd,aAAa,CAACe,OAAO,CAEpD,MAAO,IAAM,CAAAC,iBAAiB,CAAE,QAAnB,CAAAA,iBAAiBA,CAAGT,KAAK,CAAI,CACtC,MAAO,CAAAA,KAAK,CAACU,QAAQ,CAACpB,aAAa,CACvC,CAAC,CAED,MAAO,IAAM,CAAAqB,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAIX,KAAK,CAAK,CAC5C,MAAO,CACJY,YAAY,CAAEZ,KAAK,CAACU,QAAQ,CAACpB,aAAa,CAACuB,IAAI,CAC1C,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACC,QAAQ,GAChC,CACDxB,SAAS,CAAES,KAAK,CAACU,QAAQ,CAACnB,SAAS,CACnCC,MAAM,CAAEQ,KAAK,CAACU,QAAQ,CAAClB,MAC3B,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}